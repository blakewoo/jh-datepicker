const JH_datepicker=function(){function t(t,e,a=new Date,i=null,n=null){if(this.xPoint=t,this.yPoint=e,this.containDiv=null,this.targetDate=a,i&&n&&i>n)return console.error("[ERROR] The selectable start time is after the selectable end time.");this.isLimit=!(!i&&!n),this.limitStartDate=i,this.limitEndDate=n,this.paint(a)}return t.prototype.paint=function(t){t&&(this.targetDate=t);let e=document.getElementsByTagName("body")[0],a=document.getElementsByClassName("jh_datepicker_div")[0];a&&a.remove();let i=document.createElement("div");this.containDiv=i,i.classList.add("jh_datepicker_div"),i.style.left=this.xPoint-100+"px",i.style.top=this.yPoint+"px";let n=document.createElement("table");return n.classList.add("jh_datepicker_div_table"),this.drawTable(n),i.appendChild(n),e.appendChild(i),i},t.prototype.drawTable=function(t){let e=document.createElement("thead");e.classList.add("jh_datepicker_div_table_thead");let a=document.createElement("tr"),i=document.createElement("td");i.innerHTML="<",i.classList.add("jh_datepicker_div_table_thead_prev"),i.addEventListener("click",this.prevYearEvent.bind(this));let n=document.createElement("td");n.colSpan=4,n.innerHTML=this.targetDate.getFullYear()+"년";let d=document.createElement("td");d.innerHTML=">",d.classList.add("jh_datepicker_div_table_thead_prev"),d.addEventListener("click",this.nextYearEvent.bind(this));let l=document.createElement("td");l.innerText="X",l.classList.add("jh_datepicker_div_table_thead_delete"),l.addEventListener("click",(function(t){t.currentTarget.parentNode.parentNode.parentNode.parentNode.remove()})),a.appendChild(i),a.appendChild(n),a.appendChild(d),a.appendChild(l);let r=document.createElement("tr"),s=document.createElement("td");s.innerHTML="<",s.classList.add("jh_datepicker_div_table_thead_prev"),s.addEventListener("click",this.prevMonthEvent.bind(this));let c=document.createElement("td");c.innerHTML=">",c.classList.add("jh_datepicker_div_table_thead_after"),c.addEventListener("click",this.prevMonthEvent.bind(this));let h=document.createElement("td");h.colSpan=4,h.innerHTML=this.targetDate.getMonth()+1+"월",r.appendChild(s),r.appendChild(h),r.appendChild(c);let p=document.createElement("tr"),o=document.createElement("td");o.innerText="일",o.classList.add("jh_datepicker_div_table_thead_sun");let _=document.createElement("td");_.innerText="월";let m=document.createElement("td");m.innerText="화";let u=document.createElement("td");u.innerText="수";let g=document.createElement("td");g.innerText="목";let D=document.createElement("td");D.innerText="금";let E=document.createElement("td");E.innerText="토",E.classList.add("jh_datepicker_div_table_thead_sat"),p.appendChild(o),p.appendChild(_),p.appendChild(m),p.appendChild(u),p.appendChild(g),p.appendChild(D),p.appendChild(E),e.appendChild(a),e.appendChild(r),e.appendChild(p),t.append(e);let v=document.createElement("tbody");this.drawTbody(v),t.append(v)},t.prototype.drawTbody=function(t){let e,a=new Date(this.targetDate.getFullYear(),this.targetDate.getMonth(),1),i=new Date(this.targetDate.getFullYear(),this.targetDate.getMonth()+1,0),n=0,d=1,l=document.createElement("tr");for(let t=0;t<a.getDay();t++){let t=document.createElement("td");l.appendChild(t),n+=1}for(let t=a.getDay();t<=6;t++){let t=document.createElement("td");n%7==0&&t.classList.add("jh_datepicker_div_table_thead_sun"),n%7==6&&t.classList.add("jh_datepicker_div_table_thead_sat"),t.classList.add("jh_datepicker_div_table_tbody_td");let e=new Date(a.getFullYear(),a.getMonth(),d);this.isLimit&&(this.limitStartDate&&e<this.limitStartDate||this.limitEndDate&&e>this.limitEndDate)?t.classList.add("disabled"):t.addEventListener("click",this.dailySelectEvent.bind(this)),t.setAttribute("id","datapicker-"+a.getFullYear()+"-"+a.getMonth()+"-"+d),t.innerText=d.toString(),l.appendChild(t),d+=1,n+=1}for(t.appendChild(l);d<=i.getDate();d++,n++){n%7==0&&(e=document.createElement("tr"));let i=document.createElement("td");n%7==6&&i.classList.add("jh_datepicker_div_table_tbody_sat"),n%7==0&&i.classList.add("jh_datepicker_div_table_tbody_sun"),i.classList.add("jh_datepicker_div_table_tbody_td");let l=new Date(a.getFullYear(),a.getMonth(),d);this.isLimit&&(this.limitStartDate&&l<this.limitStartDate||this.limitEndDate&&l>this.limitEndDate)?i.classList.add("disabled"):i.addEventListener("click",this.dailySelectEvent.bind(this)),i.setAttribute("id","datapicker-"+a.getFullYear()+"-"+a.getMonth()+"-"+d),i.innerText=d.toString(),e.appendChild(i),n%7==0&&t.appendChild(e)}},t.prototype.prevYearEvent=function(t){let e=new Date(this.targetDate.getFullYear()-1,this.targetDate.getMonth(),this.targetDate.getDate());this.paint(e)},t.prototype.nextYearEvent=function(t){let e=new Date(this.targetDate.getFullYear()+1,this.targetDate.getMonth(),this.targetDate.getDate());this.paint(e)},t.prototype.prevMonthEvent=function(t){let e=new Date(this.targetDate.getFullYear(),this.targetDate.getMonth()-1,this.targetDate.getDate());this.paint(e)},t.prototype.nextMonthEvent=function(t){let e=new Date(this.targetDate.getFullYear(),this.targetDate.getMonth()+1,this.targetDate.getDate());this.paint(e)},t.prototype.getDay=function(t){},t.prototype.dailySelectEvent=function(t){let e=t.currentTarget.getAttribute("id").split("-");this.getDay(new Date(e[1],e[2],e[3])),this.containDiv.remove()},t}();